@using Mictlanix.BE
@using Mictlanix.BE.Model
@using Mictlanix.BE.Web.Helpers
@model SalesQuote

<fieldset>
    <legend>@Resources.DisplayName_SalesInformation</legend>
	@using (Ajax.BeginForm(new AjaxOptions { UpdateTargetId = "master-section" })) {
	    @Html.ValidationSummary(true)
	    
	    @Html.HiddenFor(model => model.Date)
	    
	    <div class="editor-label">
	        @Html.LabelFor(model => model.Customer)
	    </div>
	    <div class="editor-field">
	        @Html.EditorFor(model => model.CustomerId)
	        @Html.ValidationMessageFor(model => model.CustomerId)
	    </div>
	    
	    <div class="editor-label">
	        @Html.LabelFor(model => model.DueDate)
	    </div>
	    <div class="editor-field">
	        @Html.EditorFor(model => model.DueDate)
	        @Html.ValidationMessageFor(model => model.DueDate)
	    </div>
	    
	    <div class="action-buttons">
	    	<button type="submit" class="icon save">@Resources.Save</button>
			@Ajax.ActionLink(Resources.Discard, "DiscardChanges", new { id = Model.Id }, new AjaxOptions { UpdateTargetId = "master-section" }, new { @class = "button icon cancel" })
		</div>
	}
</fieldset>
<script type="text/javascript">
$(function () {
    $("#CustomerId").tokenInput("add", { id: "@Model.Customer.Id", name: "@Model.Customer.Name"});
    $('.date').datepicker({ dateFormat: "yy-mm-dd", changeYear: true });
});
</script>