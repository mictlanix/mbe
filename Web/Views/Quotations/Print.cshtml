@using Mictlanix.BE
@using Mictlanix.BE.Model;
@using Mictlanix.BE.Web.Helpers;
@model SalesQuote

@{
    Layout = "~/Views/Shared/_PrintLayout.cshtml";
    ViewBag.Title = Resources.SalesQuote;
    ViewBag.StoreName = Model.Store.Name;
    ViewBag.StoreLogo = Model.Store.Logo;
    ViewBag.TaxpayerName = null;
    ViewBag.Taxpayer = null;
    ViewBag.Address = Model.Store.Address;
}

<div class="display-label right floating">
	<h3>@Html.DisplayFor(x => x.Serial)</h3>
</div>

<div class="display-label right floating">
    @Html.LabelFor(x => x.Date)<br/>
    @Html.DisplayFor(x => x.Date)
</div>

<div class="display-label">
    <h3>@Html.LabelFor(x => x.Customer)</h3>
</div>
<div class="display-field">
    @Html.DisplayFor(x => x.Customer.Name)<br/>
</div>

<div class="display-label">
    @Html.LabelFor(x => x.DueDate)<br/>
    @Html.DisplayFor(x => x.DueDate)
</div>

<table>
    <tr>
        <th class="line nowrap"></th>
        @*<th class="line nowrap">@Resources.UnitOfMeasurement</th>*@
        <th class="line nowrap">@Resources.ProductCode</th>
        <th class="line">@Resources.ProductName</th>
        <th class="line nowrap">@Resources.Price</th>
        <th class="line nowrap">@Resources.VAT</th>
        <th class="line nowrap">@Resources.Amount</th>
    </tr>
	@foreach (var item in Model.Details) {
    <tr>
        <td class="number line">@Html.DisplayFor(x => item.Quantity)</td>
        @*<td class="center line">@Html.DisplayFor(x => item.UnitOfMeasurement)</td>*@
        <td class="center line">@Html.DisplayFor(x => item.ProductCode)</td>
        <td class="line">@Html.DisplayFor(x => item.ProductName)</td>
        <td class="number line">@Html.DisplayFor(x => item.Price)</td>
        <td class="number line">@Html.DisplayFor(x => item.TaxRate)</td>
        <td class="number line">@Html.DisplayFor(x => item.Subtotal)</td>
    </tr>
	}
</table>

<table>
    <tr>
        <td rowspan="3" class="center">@Html.ToMXN(Model.Total)</td>
        <td class="number">@Html.LabelFor(x => x.Subtotal)</td>
        <td class="number">@Html.DisplayFor(x => x.Subtotal)</td>
    </tr>
    <tr>
        <td class="number">@Html.LabelFor(x => x.Taxes)</td>
        <td class="number">@Html.DisplayFor(x => x.Taxes)</td>
    </tr>
    <tr>
        <td class="number">@Html.LabelFor(x => x.Total)</td>
        <td class="number">@Html.DisplayFor(x => x.Total)</td>
    </tr>
</table>

<div class="center signatures">
    @Resources.CreatedBy,<br/>
    @Html.DisplayFor(x => Model.SalesPerson.Name)
</div>


<script type="text/javascript">
	$(function() {
        window.print();
	});
</script>